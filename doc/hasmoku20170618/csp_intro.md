
ふるゆわCSPイントロダクション
=============================

注意
--------

ここで書いてあることはゆるっふわです。ふわっふわです。チャネルやら内部選択やら✓ やらを始めとする概念を諸々省いて説明します。
間違いなく誤解するので[1]で操作的意味論ちゃんと見た方がいいです。ってゆーかそれ以外に理解する方法なんてない気がします(多分)。


プロセス式
-----------------

CSPではプロセス式というものを使ってモデルを記述します。
プロセスはオートマトンのようなもので、これらを合成してより大きなプロセスを作っていくことが出来ます。

プロセス式は主に以下の３つによって構築されます。

* イベント（チャネルという場合もあります)
    * イベントは遷移のトリガになります。
* 原始プロセス
    * ここではSkipのみ扱います
    * Skipは、終了を表します
* 演算子
    * イベントとプロセスを結合する演算子(Prefix演算子)
    * プロセスとプロセスを結合する演算子(色々ある)


遷移と規則の記述方法
---------------------

プロセス式P が イベントaを受理してプロセスQとして振る舞うという命題は以下のように表現します。


       a
    P ===>  Q


意味論の規則なんですが、[1]にならって書きます。
各命題に対して仮説部（線の上側）が全て成立すると結論部(線の下側)の各命題がそれぞれ成立すると読んでください。ORではありません。




Prefix演算子
--------------

```a -> P``` は イベントa を受け取ったらプロセスPとして振る舞うプロセスを意味します。


    ------------------
               a
     (a -> P) ===>  P




外部選択演算子
----------------

```P [] Q``` は P またはQとして振る舞います。P,Q のどちらのイベントが先に起こった方が選択されます。


       a
    P ===> P'

       b
    Q ===> Q'

    --------------------
              a
    (P [] Q) ===>  P'

              b
    (P [] Q) ===>  Q'


b=aだった場合どうなるんだ、と気になった人は[1]を見て下さい。


割り込み演算子
----------------

割り込みは外部選択によく似ています。

       a
    P ===> P'

       b
    Q ===> Q'

    -------------------------------------
              a
    (P /\ Q) ===>  P' /\ Q

              b
    (P /\ Q) ===>  Q'


逐次合成演算子
---------------


       a
    P ===> P'

       b
    Q ===> Q'

    -------------------------------------
              a
    (P /\ Q) ===>  P' /\ Q

              b
    (P /\ Q) ===>  Q'


アルファベットと並行合成演算子
--------------------------------

プロセス式Pのアルファベット(インターフェースともいうようです）とは、そのプロセスが受理しうるイベントの集合です。
([1]見てもアルファベットは何かのちゃんとした定義書いてなかった。求め方は書いてあったけど)
プロセス式Pのアルファベットを```α(P)```という風に表します。

このアルファベットを使って並行合成を行うのがアルファベット指定の並行合成演算子です。

       a
    P ===> P'

       a
    Q ===> Q'

    -------------------------------------

                  a
    P [A || B] Q ===> P' [A || B] Q'  (a ∈ A ∩ B なら同時に遷移するよ)



       a
    P ===> P'

    -------------------------------------

                  a
    P [A || B] Q ===> P' [A || B] Q   (a ∈ A \ B ならPだけ遷移するよ)

                  a
    Q [A || B] P ===> Q  [A || B] P'   (a ∈ A \ B ならPだけ遷移するよ)



単に```P || Q``` と書いた場合は、```P [α (P) || α (Q)] Q``` を意味します。

他にもインターフェース合成とかありますが、ここでは触れません。

Skipの並行合成時の振る舞いとか細かいことは[1]を見て下さい。


プロセス変数
----------------

プロセスに名前をつけることを考えます。プロセス変数Pをプロセス式Qに束縛するには以下のように記述します。

    P := Q

Qの中にPが含まれていても構いません。


参考文献
---------

[1] "Concurrent and Real Time Systems: the CSP approach" (S.Schneider)



